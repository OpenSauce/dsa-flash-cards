- title: "CAP Theorem - Statement"
  difficulty: "medium"
  tags: ["CAP theorem", "distributed systems", "consistency", "availability"]
  Front: |
    State the **CAP theorem**. What does it mean in practice for distributed systems?
  Back: |
    The CAP theorem states that a distributed system can only guarantee **two of three** properties simultaneously:

    - **Consistency (C):** Every read returns the most recent write
    - **Availability (A):** Every request receives a response (even if not the latest data)
    - **Partition tolerance (P):** The system continues operating despite network failures between nodes

    **In practice:** Network partitions are inevitable in distributed systems, so partition tolerance is non-negotiable. The real choice is between **consistency and availability during a partition**.

    **Interview tip:** State CAP clearly, then immediately say "since partitions are inevitable, the real trade-off is C vs A during a partition." This shows you understand the practical implication, not just the textbook definition.

- title: "CAP Theorem - CP vs AP Examples"
  difficulty: "medium"
  tags: ["CAP theorem", "CP", "AP", "distributed systems"]
  Front: |
    Give an example of a **CP system** and an **AP system**. Why did each make that trade-off?
  Back: |
    **CP systems** (sacrifice availability during partitions):
    - **ZooKeeper, HBase, MongoDB (default config)**
    - During a partition, these refuse to serve potentially stale data
    - **Use case:** Financial transactions, leader election, distributed locking — correctness matters more than uptime

    **AP systems** (sacrifice consistency during partitions):
    - **Cassandra, DynamoDB, CouchDB**
    - During a partition, these keep serving requests with potentially stale data
    - **Use case:** Shopping carts, social media feeds, DNS — availability and low latency matter more than perfect consistency

    **Key insight:** Many systems are configurable. MongoDB can run in AP mode with relaxed read concerns. DynamoDB offers strongly consistent reads at higher latency. The CAP trade-off is often a **per-operation choice**, not a system-wide one.

- title: "CAP Theorem - Why Not All Three"
  difficulty: "hard"
  tags: ["CAP theorem", "proof", "distributed systems"]
  Front: |
    Why can you **not** have all three of Consistency, Availability, and Partition Tolerance simultaneously?
  Back: |
    During a network partition, a node receives a request but **cannot communicate with other nodes** to verify the latest state.

    It must choose:
    - **Respond with potentially stale data** (preserves Availability, sacrifices Consistency) — this is AP
    - **Refuse to respond until it can confirm the latest state** (preserves Consistency, sacrifices Availability) — this is CP

    You cannot simultaneously guarantee a **fresh response** (C) and **any response** (A) when nodes **cannot communicate** (P).

    **Important nuance:** In the absence of partitions, you can have both consistency and availability. CAP describes behavior **during failures**, not normal operation. This is why PACELC extends CAP to also cover the latency-consistency trade-off during normal operation.

- title: "CAP Theorem - PACELC"
  difficulty: "hard"
  tags: ["PACELC", "CAP theorem", "latency", "consistency"]
  Front: |
    What is the **PACELC theorem** and how does it extend CAP?
  Back: |
    **PACELC:** If there is a **P**artition, choose **A**vailability or **C**onsistency; **E**lse (normal operation), choose **L**atency or **C**onsistency.

    CAP only describes behavior during partitions. PACELC captures the **latency-consistency trade-off during normal operation** — which is what systems experience most of the time.

    **Examples:**
    - **DynamoDB: PA/EL** — available during partitions, low latency during normal operation (eventually consistent reads by default)
    - **HBase: PC/EC** — consistent always, accepts higher latency for strong reads
    - **Cassandra: PA/EL** — tunable consistency, but defaults favor availability and low latency
    - **MongoDB: PC/EC** — consistent reads from primary, higher latency than eventually consistent alternatives

    **Interview tip:** Mentioning PACELC shows depth beyond the basic CAP theorem. It demonstrates you understand that the consistency-latency trade-off matters even when the network is healthy.
