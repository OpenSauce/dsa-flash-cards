- title: "AWS Messaging - SQS vs SNS"
  difficulty: "medium"
  tags: ["aws", "messaging", "SQS", "SNS"]
  Front: |
    What is the difference between **SQS** and **SNS**?
  Back: |
    **SQS (Simple Queue Service):** Point-to-point message queue. One producer sends a message, one consumer processes it. Messages sit in the queue until a consumer picks them up (pull-based).
    - Messages retained for up to 14 days
    - Decouples producers from consumers -- the producer does not need to know who processes the message
    - Guarantees every message is processed at least once

    **SNS (Simple Notification Service):** Pub/sub fan-out. One publisher sends a message, and all subscribers receive a copy simultaneously (push-based).
    - Subscribers can be: SQS queues, Lambda functions, HTTP endpoints, email, SMS
    - No message retention -- if a subscriber is down, it misses the message
    - Used for broadcasting events to multiple consumers

    **Common pattern -- SNS + SQS fan-out:** An SNS topic publishes to multiple SQS queues. Each queue is consumed independently by a different service. This combines fan-out (SNS) with reliable processing (SQS).

    **Interview tip:** If a system design question involves one event triggering multiple independent downstream actions, describe the SNS + SQS fan-out pattern. It is the standard AWS answer for event-driven architectures.

- title: "AWS Messaging - SQS Dead-Letter Queues"
  difficulty: "medium"
  tags: ["aws", "messaging", "SQS", "dead-letter queue", "error handling"]
  Front: |
    What is an SQS **dead-letter queue** and why do you need one?
  Back: |
    A dead-letter queue (DLQ) is a separate SQS queue that receives messages that have **failed processing** after a configured number of retry attempts.

    **How it works:** You set a `maxReceiveCount` on the source queue (e.g., 3). If a message is received 3 times without being deleted (meaning the consumer failed to process it each time), SQS automatically moves it to the DLQ.

    **Why you need one:**
    - **Poison messages:** Without a DLQ, a message that always fails (malformed data, missing dependency) blocks the queue or gets silently discarded after the retention period
    - **Debugging:** The DLQ isolates failures. You can inspect failed messages to understand why they failed without affecting the main queue
    - **Alerting:** Set a CloudWatch alarm on DLQ depth. A growing DLQ means something is systematically broken.
    - **Reprocessing:** After fixing the bug, you can redrive messages from the DLQ back to the source queue

    **Best practice:** Every production SQS queue should have a DLQ configured. The cost is negligible and the operational visibility it provides is significant.

    **Interview tip:** Mentioning DLQs when designing a queue-based system shows you think about failure modes, not just the happy path.

- title: "AWS Messaging - EventBridge"
  difficulty: "hard"
  tags: ["aws", "messaging", "EventBridge", "event-driven"]
  Front: |
    What is **EventBridge** and how does it differ from SNS?
  Back: |
    EventBridge is a serverless **event bus** for routing events between AWS services, SaaS applications, and your own services. It is the backbone for building event-driven architectures on AWS.

    **Key differences from SNS:**

    **Content-based filtering:** EventBridge routes events by matching fields in the event payload (e.g., "route events where `source=orders` and `detail.status=failed`"). SNS filters only by message attributes, not payload content.

    **Schema registry:** EventBridge discovers and stores event schemas automatically. You can generate code bindings from schemas. SNS has no schema awareness.

    **Event replay:** EventBridge can archive events and replay them. Useful for debugging, reprocessing, or populating new consumers with historical data. SNS does not retain messages.

    **Native integrations:** EventBridge connects to 90+ AWS services as event sources without any code. CloudTrail API calls, EC2 state changes, and S3 events can all route through EventBridge natively.

    **When to choose SNS instead:** SNS is simpler, has lower latency, and handles higher throughput for straightforward fan-out. If you just need to publish a message to multiple subscribers without complex routing, SNS is the right choice.

    **Interview tip:** EventBridge is the answer when the interviewer asks "how would you decouple these services?" in an AWS-heavy design. It shows you know the modern AWS eventing model.

- title: "AWS Messaging - SQS FIFO vs Standard"
  difficulty: "easy"
  tags: ["aws", "messaging", "SQS", "FIFO", "ordering"]
  Front: |
    What is the difference between **SQS Standard** and **SQS FIFO** queues?
  Back: |
    **SQS Standard:**
    - **Nearly unlimited throughput** (thousands of messages per second)
    - **At-least-once delivery:** Messages may be delivered more than once. Your consumer must be idempotent.
    - **Best-effort ordering:** Messages may arrive out of order
    - Cheaper than FIFO

    **SQS FIFO (First-In-First-Out):**
    - **Guaranteed ordering:** Messages are delivered in exactly the order they were sent
    - **Exactly-once processing:** Deduplication prevents the same message from being delivered twice within a 5-minute window
    - **Throughput limit:** 300 messages/second without batching, 3,000/second with batching per message group
    - Queue name must end in `.fifo`

    **Choose Standard when:** Throughput matters and your consumer can handle duplicates (e.g., image processing, log ingestion, notifications).

    **Choose FIFO when:** Ordering matters and duplicates are unacceptable (e.g., financial transactions, sequential workflow steps, command processing where order changes the outcome).

    **Interview tip:** Default to Standard unless the interviewer explicitly requires ordering guarantees. Most distributed systems should be designed to tolerate out-of-order and duplicate messages.
